<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <style>
        <!--
        .whitetab {
            margin-left: 60px;
            margin-right: 60px;
            background-color: white;
            padding: 1cm 1cm 1cm 1cm;
        }
        -->
    </style>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
          integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
          crossorigin="anonymous">
    <title>Caculator Client</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>




    <script>
        $(document).ready(function () {
            $("#btnCalculateFast").click(function () {

                $("th:first").css("border", "3px solid red");
                $("th:last").css("border", "1px solid red");
                

                var Calculate = $("#txtString").val();

                $.ajax({
                    url: "/api/math/CalculateFast/",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(Calculate),

                })
                .done(function (data) {
                    var list = data;
                    $.each(list, function (index, item) {
                        $("#txtResultFast").append(item + "<br>");
                    });
                })
                .fail(function (xhr) {
                    alert(xhr.responseText);
                });
            });


            $("#btnCalculateSlow").click(function () {
                $("th:last").css("border", "3px solid red");
                $("th:first").css("border", "1px solid red");
                


                var Calculate = $("#txtString").val();

                $.ajax({
                    url: "/api/math/CalculateSlow/",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(Calculate),

                })
                    .done(function (data) {
                        var list = data;
                        //$("#Slow").html("");
                        $.each(list, function (index, item) {
                            $("#txtResultSlow").append(item + "<br>");
                        });
                    })
                    .fail(function (xhr) {
                        alert(xhr.responseText);
                    });
            });
        });
    </script>


</head>
<body style="background-color:powderblue;">

    <div style="text-align:center">
        <br>
        <h1><b>Vertical Sticks Challenge</b></h1>
        <a href="https://www.hackerrank.com/challenges/vertical-sticks/problem">Visit hackerrank.com for a detailed description of the problem</a>
        <br><br>
        Please enter numbers separated by a space :
        <br><br>

        <textarea id="txtString" cols=50 rows="15">6
3
1 2 3
3
3 3 3
3
2 2 3
4
10 2 4 4
5
10 10 10 5 10
6
1 2 3 4 5 6</textarea>
    </div>

    <!--This is the output from the controller-->
    <table style="width:100%">
        <tr>
            <th style="text-align:center" width=50%>
                <input type="button" value="Calculate Fast Method" id="btnCalculateFast"><br>
                <p>(Will work for any length list!)</p>
                <h5 id ="Fast" style="text-align:center"><output type="text" id="txtResultFast" disabled /></h5>
            </th>
            <th style="text-align:center" width=50%>
                <input type="button" value="Calculate Slow Method" id="btnCalculateSlow"><br>
                <p>(only runs for lists up to 10 elements)</p>
                <h5 id ="Slow" style="text-align:center"><output type="text" id="txtResultSlow" disabled /></h5>
                <!--<h5 id="Slow" style="text-align:center"></h5>-->
            </th>
        </tr>
    </table>
    <br>
    <!--<h5 style="text-align:center"></h5>-->
    <!--<h5 style="text-align:center"><output type="text" id="txtResult" disabled /></h5>-->
    <br>


    <div class="whitetab">
        <h3>Approach...<br></h3>
        <p>
            Given:<br>
            Array of integers: Y = [y<sub>1</sub>, y<sub>2</sub>, y<sub>3</sub>…, y<sub>n</sub>]<br>
            Array of ray shot lengths: [v<sub>1</sub>, v<sub>2</sub>, v<sub>3</sub>…, v<sub>n</sub>] (where v<sub>i</sub> is the length of a ray shot)<br>
            V [y<sub>1</sub>, y<sub>2</sub>, y<sub>3</sub>…, y<sub>n</sub>] = v<sub>1</sub> + v<sub>2</sub> + v<sub>3</sub>… + v<sub>n</sub><br>
            Find E[V] the expected value of V<br>
            In a problem with n sticks, we must calculate the ray shot of the i<sup>th</sup> stick for each permutation. That is (n-1)! calculations for each position the i<sup>th</sup> stick could occupy.<br>
            <br>
            <b>Alternate approach…</b><br>
            <b>The Vertical Sticks challenge</b> can be changed into a problem of summing the expected ray shot length for each stick in the list.<br>
            <i>Ray shot length = distance to the previous stick (with equal or greater height) or to the y-axis.</i><br>
            As we are calculating a mean, we could find E[v<sub>i</sub>] the Expected Value of the ray shot for each stick (i) in the list and forget about considering all the positions that stick could take.<br>
            E[V] = E[v<sub>1</sub>] + E[v<sub>2</sub>] + E[v<sub>3</sub>] … + E[v<sub>n</sub>]<br>
            E[v<sub>i</sub>] = n+1 / k+1 where k is the number of sticks greater than or equal to the height of the i<sup>th</sup> stick.<br>
            The +1 is necessary as the y-axis counts as both a position and the highest height.<br>
            <br>
            E.g. 1<br>
            If we have 9 sticks… 8 with height 14 and one stick with height 15, that stick could be in position (or length) 1, 2, 3, 4, 5, 6, 7, 8, 9 in each of the permutations. The expected distance to ray shot length would be the sum of these numbers divided by the number of numbers… 45/9 = 5.<br>
            <b>0</b> 1 2 3 4 <b>5</b> 6 7 8 9<br>
            Another way to look at it is… we have 10 positions as position ‘0’ (the y-axis) counts as both a position and a height (greater than or equal to 15). So, the expected length of the ray shot is 10/2 = 5 (or 9+1 / 1+1).<br>
            E.g. 2<br>
            Consider 8 sticks with heights (1, 1, 1, 1, 1, 1, 2, 2)<br>
            <b>0</b> 1 2 <b>3</b> 4 5 <b>6</b> 7 8<br>
            n = 8 and k = 2<br>
            The 2’s expected ray shot length is (n+1) / (k+1) = (8+1) / (2+1) = 9 / 3 = 3.
            <br><br><br>
            From the sample input:<br>
            <b>Case 1:-</b> Numbers (1 2 3)<br>
            Using the 'long' method...<br>
            V(1, 2, 3) = 1 + 2 + 3 = 6<br>
            V(1, 3, 2) = 1 + 2 + 1 = 4<br>
            V(2, 1, 3) = 1 + 1 + 3 = 5<br>
            V(2, 3, 1) = 1 + 2 + 1 = 4<br>
            V(3, 1, 2) = 1 + 1 + 2 = 4<br>
            V(3, 2, 1) = 1 + 1 + 1 = 3<br>
            (6 + 4 + 5 + 4 + 4 + 3) / 6 = 4.33<br>
            <b>* In a list of 5 numbers, this will be 120 lines plus the answer</b><br>
            <br>
            In a list with n numbers, E[ i ] = n+1 / k+1<br>
            (k is the number of sticks greater than or equal to i)<br>
            Using the 'short' method...<br>
            E[1] = 4/4<br>
            E[2] = 4/3<br>
            E[3] = 4/2<br>
            4/4 + 4/3 + 4/2 = 4.33<br>
            <b>* In a list of 5 numbers, this will be 5 lines plus the answer</b><br>
            <br>
        </p>
    </div>
</body>
</html>